<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        font: 700 14px/1.5 Arial;
        margin: 0;
        padding: 0 10px;
      }
      table {
        clear: both;
        border: 1px solid #000;
      }
      td {
        cursor: pointer;
        text-align: center;
        border: 1px solid #000;
        padding: 5px;
      }
      #setting {
        float: left;
        clear: left;
        line-height: 28px;
        margin: 10px 0;
      }
      #setting input {
        width: 50px;
        font-family: inherit;
        border: 2px solid #ccc;
        margin: 0 5px;
        padding: 4px;
      }
      #btn {
        font-size: 14px;
        line-height: 18px;
        color: #fff;
        text-decoration: none;
        background: #353535;
        border-top: 1px #999 solid;
        border-radius: 5px;
        padding: 4px 6px;
      }
      em {
        width: 25px;
        height: 25px;
        display: inline-block;
        margin-right: 5px;
      }
      #setting label,
      #setting input,
      #setting a {
        float: left;
      }
      strong {
        color: red;
        margin-left: 20px;
      }
    </style>
  </head>
  <body>
    <div id="setting">
      <label>行数</label>
      <input type="text" id="row" />
      <label>列数</label>
      <input type="text" id="col" />
      <a href="javascript:;" id="btn">生成表格</a>
      <strong>提示：行和列只能是数字，且最大为50</strong>
    </div>
  </body>
  <script>
    //创建数组储存颜色
    var colors = ["red", "green", "blue", "yellow", "orange", "skyblue", "purple", "Pink", "MediumSlateBlue", "LightSteelBlue", "Teal", "Lime", "DarkKhaki", "BlanchedAlmond", "Sienna"];
    //点击事件
    btn.onclick = function () {
        //检查有没有之前生成的table
        if(document.querySelector("table") === null){
            tabs();
        }else{
            //有之前的table就删除
            document.querySelector("table").remove();
            tabs();
        }
    };
    //创建生成表格的方法
    function tabs(){
      //获取行数和列数
      var rows = row.value;
      var cols = col.value;
      //判断是否满足条件
      if (((rows <= 50 && rows >= 1) || (cols <= 50 && cols >= 1)) && (rows.toString()[0] !== '0' && cols.toString()[0] !== '0')) {
        //创建节点
        var table = document.createElement("table");
        //循环创建行
        for (var i = 0; i < rows; i++) {
          var tr = document.createElement("tr");
          table.appendChild(tr);
          //循环创建表格
          for (var j = 0; j < cols; j++) {
            var td = document.createElement("td");
            //往表格里写入随机数
            td.innerHTML = Math.floor(Math.random()*100);
            //随机设定颜色
            td.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
            tr.appendChild(td);
          }
        }
        setting.appendChild(table);
      } else {
        //如果输入的不满足条件
        alert("八嘎");
      }
    }
  </script>
</html>
